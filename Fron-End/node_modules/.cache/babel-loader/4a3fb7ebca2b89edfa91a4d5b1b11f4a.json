{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from 'react';\nimport { category } from '../Contextos/categoryContext/CategorySelected';\nexport const useCategorias = () => {\n  _s();\n\n  const [dataItems, setdataItems] = useState([]);\n  const [loteCategorias, setLoteCategorias] = useState([]);\n  const [idPagina, setIdpagina] = useState(1);\n  const {\n    setCategorias\n  } = useContext(category); //FUNCION PARA IR A LA PAGINA SIGUIENTE\n\n  const nextPaginate = () => setIdpagina(element => element + 1); //FUNCION PARA VOLVER A LA PAGINA ANTERIOR\n\n\n  const backPaginate = () => setIdpagina(element => element - 1); //FUNCION QUE ACTUALIZA EL LOTE DE LA CATEGORIA\n\n\n  const nextCategorias = idPaginate => {\n    //SACANDO EL ARREGLO DESDE EL INDICE INDICADO AL INFINITO\n    const data = dataItems.slice(5 * idPaginate - 5, Infinity); //ACTUALIZANDO EL ESTADO DE LOTE CATEGORIA\n\n    setLoteCategorias(data.slice(0, 5));\n  }; //CUANDO EL COMPONENTE SE MONTE\n\n\n  useEffect(() => {\n    fetch(`http://localhost:8080/api/categorias?desde=0&hasta=${Infinity}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-token': \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiI2MWIzZTg4ZGU0NDdlOTRjMzYxNmU1NzkiLCJpYXQiOjE2NTIyMTUyMzcsImV4cCI6MTY1MjIyOTYzN30.bx5GjyWYDRamQDRFn4rENCs2eFBMisXW2PJIdVVBK04\"\n      }\n    }).then(dataFect => dataFect.json()).then(_ref => {\n      let {\n        categorias\n      } = _ref;\n      setdataItems(categorias);\n      setCategorias(categorias);\n    }).catch(error => console.log(error));\n  }, []); //CICLO DE VIDA DE ACTUALIZACION ESTADO idPagina\n\n  useEffect(() => nextCategorias(idPagina), [idPagina]); //CICLO DE VIDA DE ACTUALIZACION ESTADO dataItems\n\n  useEffect(() => setLoteCategorias(dataItems.slice(0, 5)), [dataItems]);\n  return {\n    total: dataItems.length,\n    loteCategorias,\n    totalPage: Math.ceil(dataItems.length / 5),\n    backPaginate,\n    nextPaginate,\n    idPagina\n  };\n};\n\n_s(useCategorias, \"XO6aMIyY4KJqbw9KXZRxyytrQOs=\");","map":{"version":3,"names":["useEffect","useState","useContext","category","useCategorias","dataItems","setdataItems","loteCategorias","setLoteCategorias","idPagina","setIdpagina","setCategorias","nextPaginate","element","backPaginate","nextCategorias","idPaginate","data","slice","Infinity","fetch","method","headers","then","dataFect","json","categorias","catch","error","console","log","total","length","totalPage","Math","ceil"],"sources":["/home/gabriel/Desktop/Poryectos-Personales/Cafeteria/Fron-End/src/Hooks/useCategorias.js"],"sourcesContent":["import { useEffect, useState,useContext } from 'react';\nimport { category } from '../Contextos/categoryContext/CategorySelected';\n\nexport const useCategorias=()=>{\n\n   const [dataItems, setdataItems] = useState([]);\n\n   const [loteCategorias, setLoteCategorias] = useState([]);\n\n   const [idPagina, setIdpagina] = useState(1);\n\n\n   const {setCategorias}=useContext(category);\n\n   //FUNCION PARA IR A LA PAGINA SIGUIENTE\n   const nextPaginate=() => setIdpagina(element=>element+1);\n   \n   //FUNCION PARA VOLVER A LA PAGINA ANTERIOR\n   const backPaginate=() => setIdpagina(element=>element-1);\n  \n   //FUNCION QUE ACTUALIZA EL LOTE DE LA CATEGORIA\n   const nextCategorias=(idPaginate) => {\n    \n    //SACANDO EL ARREGLO DESDE EL INDICE INDICADO AL INFINITO\n    const data=dataItems.slice(5*idPaginate-5,Infinity);\n    //ACTUALIZANDO EL ESTADO DE LOTE CATEGORIA\n    setLoteCategorias(data.slice(0,5));\n\n}\n\n   //CUANDO EL COMPONENTE SE MONTE\n   useEffect(() => {\n     \n        fetch(`http://localhost:8080/api/categorias?desde=0&hasta=${Infinity}`,{\n        method: 'GET', \n        headers: {\n          'Content-Type': 'application/json',\n          'x-token':\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiI2MWIzZTg4ZGU0NDdlOTRjMzYxNmU1NzkiLCJpYXQiOjE2NTIyMTUyMzcsImV4cCI6MTY1MjIyOTYzN30.bx5GjyWYDRamQDRFn4rENCs2eFBMisXW2PJIdVVBK04\"\n        }\n        })\n\n        .then(dataFect=>dataFect.json())\n\n        .then(({categorias})=>{\n          \n          \n          setdataItems(categorias);\n        \n          setCategorias(categorias);\n        \n        \n        })\n      \n        .catch(error=>console.log(error));\n      \n    },[]);\n\n   //CICLO DE VIDA DE ACTUALIZACION ESTADO idPagina\n   useEffect(() => nextCategorias(idPagina), [idPagina])\n   \n   //CICLO DE VIDA DE ACTUALIZACION ESTADO dataItems\n   useEffect(() => setLoteCategorias(dataItems.slice(0,5)),[dataItems]);\n\n    return {total:dataItems.length,\n            loteCategorias,\n            totalPage:Math.ceil(dataItems.length/5),\n            backPaginate,\n            nextPaginate,\n            idPagina};\n}"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA6BC,UAA7B,QAA+C,OAA/C;AACA,SAASC,QAAT,QAAyB,+CAAzB;AAEA,OAAO,MAAMC,aAAa,GAAC,MAAI;EAAA;;EAE5B,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC,EAAD,CAA1C;EAEA,MAAM,CAACM,cAAD,EAAiBC,iBAAjB,IAAsCP,QAAQ,CAAC,EAAD,CAApD;EAEA,MAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,CAAD,CAAxC;EAGA,MAAM;IAACU;EAAD,IAAgBT,UAAU,CAACC,QAAD,CAAhC,CAT4B,CAW5B;;EACA,MAAMS,YAAY,GAAC,MAAMF,WAAW,CAACG,OAAO,IAAEA,OAAO,GAAC,CAAlB,CAApC,CAZ4B,CAc5B;;;EACA,MAAMC,YAAY,GAAC,MAAMJ,WAAW,CAACG,OAAO,IAAEA,OAAO,GAAC,CAAlB,CAApC,CAf4B,CAiB5B;;;EACA,MAAME,cAAc,GAAEC,UAAD,IAAgB;IAEpC;IACA,MAAMC,IAAI,GAACZ,SAAS,CAACa,KAAV,CAAgB,IAAEF,UAAF,GAAa,CAA7B,EAA+BG,QAA/B,CAAX,CAHoC,CAIpC;;IACAX,iBAAiB,CAACS,IAAI,CAACC,KAAL,CAAW,CAAX,EAAa,CAAb,CAAD,CAAjB;EAEH,CAPE,CAlB4B,CA2B5B;;;EACAlB,SAAS,CAAC,MAAM;IAEXoB,KAAK,CAAE,sDAAqDD,QAAS,EAAhE,EAAkE;MACvEE,MAAM,EAAE,KAD+D;MAEvEC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEP,WAAU;MAFH;IAF8D,CAAlE,CAAL,CAQCC,IARD,CAQMC,QAAQ,IAAEA,QAAQ,CAACC,IAAT,EARhB,EAUCF,IAVD,CAUM,QAAgB;MAAA,IAAf;QAACG;MAAD,CAAe;MAGpBpB,YAAY,CAACoB,UAAD,CAAZ;MAEAf,aAAa,CAACe,UAAD,CAAb;IAGD,CAlBD,EAoBCC,KApBD,CAoBOC,KAAK,IAAEC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CApBd;EAsBH,CAxBO,EAwBN,EAxBM,CAAT,CA5B4B,CAsD5B;;EACA5B,SAAS,CAAC,MAAMe,cAAc,CAACN,QAAD,CAArB,EAAiC,CAACA,QAAD,CAAjC,CAAT,CAvD4B,CAyD5B;;EACAT,SAAS,CAAC,MAAMQ,iBAAiB,CAACH,SAAS,CAACa,KAAV,CAAgB,CAAhB,EAAkB,CAAlB,CAAD,CAAxB,EAA+C,CAACb,SAAD,CAA/C,CAAT;EAEC,OAAO;IAAC0B,KAAK,EAAC1B,SAAS,CAAC2B,MAAjB;IACCzB,cADD;IAEC0B,SAAS,EAACC,IAAI,CAACC,IAAL,CAAU9B,SAAS,CAAC2B,MAAV,GAAiB,CAA3B,CAFX;IAGClB,YAHD;IAICF,YAJD;IAKCH;EALD,CAAP;AAMH,CAlEM;;GAAML,a"},"metadata":{},"sourceType":"module"}