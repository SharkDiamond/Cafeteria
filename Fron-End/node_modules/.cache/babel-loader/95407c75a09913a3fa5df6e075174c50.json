{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext, useRef } from 'react';\nimport { category } from '../Contextos/categoryContext/CategorySelected';\nexport const useCategorias = () => {\n  _s();\n\n  const [dataItems, setdataItems] = useState([]);\n  const [loteCategorias, setLoteCategorias] = useState([]);\n  const [idPagina, setIdpagina] = useState(1);\n  const {\n    categorias,\n    setCategorias\n  } = useContext(category);\n  const updateCount = useRef(0); //FUNCION PARA IR A LA PAGINA SIGUIENTE\n\n  const nextPaginate = () => setIdpagina(element => element + 1); //FUNCION PARA VOLVER A LA PAGINA ANTERIOR\n\n\n  const backPaginate = () => setIdpagina(element => element - 1); //FUNCION QUE ACTUALIZA EL LOTE DE LA CATEGORIA\n\n\n  const nextCategorias = idPaginate => {\n    //SACANDO EL ARREGLO DESDE EL INDICE INDICADO AL INFINITO\n    const data = dataItems.slice(5 * idPaginate - 5, Infinity); //ACTUALIZANDO EL ESTADO DE LOTE CATEGORIA\n\n    setLoteCategorias(data.slice(0, 5));\n  }; //CICLO DE VIDA DE MONTAJE\n\n\n  useEffect(() => {\n    fetch(`http://localhost:8080/api/categorias?desde=0&hasta=${Infinity}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-token': \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiI2MWIzZTg4ZGU0NDdlOTRjMzYxNmU1NzkiLCJpYXQiOjE2NTI0MTE0MjcsImV4cCI6MTY1MjQyNTgyN30.WqHIAccyqdpwEAb5d3b17ViR55QQdlV_UGExgn2079c\"\n      }\n    }).then(dataFect => dataFect.json()).then(_ref => {\n      let {\n        categorias\n      } = _ref;\n      setdataItems(categorias);\n      setCategorias(categorias);\n    }).catch(error => console.log(error));\n  }, []); //CICLO DE VIDA DE ACTUALIZACION ESTADO idPagina\n\n  useEffect(() => nextCategorias(idPagina), [idPagina]); //CICLO DE VIDA DE ACTUALIZACION ESTADO dataItems\n\n  useEffect(() => {\n    //SACANDO EL ARREGLO DESDE EL INDICE INDICADO AL INFINITO\n    const data = dataItems.slice(5 * idPagina - 5, Infinity);\n    setLoteCategorias(data.slice(0, 5));\n  }, [dataItems]); //CICLO DE VIDA DE ACTUALIZACION CUANDO EL ESTADO GLOBAL CATEGORIA CAMBIE\n\n  useEffect(() => {\n    //SUMANDOLE 1 AL CONTEO DE EJECUCION DE ESTE METODO\n    updateCount.current += 1;\n    if (updateCount.current > 4) setdataItems(categorias);\n  }, [categorias]);\n  return {\n    total: dataItems.length,\n    loteCategorias,\n    totalPage: Math.ceil(dataItems.length / 5),\n    backPaginate,\n    nextPaginate,\n    idPagina\n  };\n};\n\n_s(useCategorias, \"Ox7vNCNn+bZ5NMeAzCdrfHEc6IE=\");","map":{"version":3,"names":["useEffect","useState","useContext","useRef","category","useCategorias","dataItems","setdataItems","loteCategorias","setLoteCategorias","idPagina","setIdpagina","categorias","setCategorias","updateCount","nextPaginate","element","backPaginate","nextCategorias","idPaginate","data","slice","Infinity","fetch","method","headers","then","dataFect","json","catch","error","console","log","current","total","length","totalPage","Math","ceil"],"sources":["C:/Users/Gabriel Arispe/Desktop/Proyectos/Cafeteria/Fron-End/src/Hooks/useCategorias.js"],"sourcesContent":["import { useEffect, useState,useContext,useRef } from 'react';\r\nimport { category } from '../Contextos/categoryContext/CategorySelected';\r\n\r\nexport const useCategorias=()=>{\r\n\r\n   const [dataItems, setdataItems] = useState([]);\r\n\r\n   const [loteCategorias, setLoteCategorias] = useState([]);\r\n\r\n   const [idPagina, setIdpagina] = useState(1);\r\n\r\n   const {categorias,setCategorias}=useContext(category);\r\n\r\n    const updateCount= useRef(0);\r\n\r\n   //FUNCION PARA IR A LA PAGINA SIGUIENTE\r\n   const nextPaginate=() => setIdpagina(element=>element+1);\r\n   \r\n   //FUNCION PARA VOLVER A LA PAGINA ANTERIOR\r\n   const backPaginate=() => setIdpagina(element=>element-1);\r\n  \r\n   //FUNCION QUE ACTUALIZA EL LOTE DE LA CATEGORIA\r\n   const nextCategorias=(idPaginate) => {\r\n    \r\n      //SACANDO EL ARREGLO DESDE EL INDICE INDICADO AL INFINITO\r\n      const data=dataItems.slice(5*idPaginate-5,Infinity);\r\n      //ACTUALIZANDO EL ESTADO DE LOTE CATEGORIA\r\n      setLoteCategorias(data.slice(0,5));\r\n\r\n    }\r\n\r\n   //CICLO DE VIDA DE MONTAJE\r\n   useEffect(() => {\r\n     \r\n        fetch(`http://localhost:8080/api/categorias?desde=0&hasta=${Infinity}`,{\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-token':\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiI2MWIzZTg4ZGU0NDdlOTRjMzYxNmU1NzkiLCJpYXQiOjE2NTI0MTE0MjcsImV4cCI6MTY1MjQyNTgyN30.WqHIAccyqdpwEAb5d3b17ViR55QQdlV_UGExgn2079c\"\r\n        }\r\n        })\r\n\r\n        .then(dataFect=>dataFect.json())\r\n\r\n        .then(({categorias})=>{\r\n          \r\n          \r\n          setdataItems(categorias);\r\n        \r\n          setCategorias(categorias);\r\n          \r\n        })\r\n      \r\n        .catch(error=>console.log(error));\r\n      \r\n    },[]);\r\n\r\n   //CICLO DE VIDA DE ACTUALIZACION ESTADO idPagina\r\n   useEffect(() => nextCategorias(idPagina), [idPagina])\r\n   \r\n   //CICLO DE VIDA DE ACTUALIZACION ESTADO dataItems\r\n   useEffect(() =>{\r\n\r\n     //SACANDO EL ARREGLO DESDE EL INDICE INDICADO AL INFINITO\r\n     const data=dataItems.slice(5*idPagina-5,Infinity);\r\n     \r\n     setLoteCategorias(data.slice(0,5));\r\n\r\n   } ,[dataItems]);\r\n\r\n\r\n   //CICLO DE VIDA DE ACTUALIZACION CUANDO EL ESTADO GLOBAL CATEGORIA CAMBIE\r\n   useEffect(()=>{\r\n      //SUMANDOLE 1 AL CONTEO DE EJECUCION DE ESTE METODO\r\n      updateCount.current+=1;\r\n\r\n      if (updateCount.current>4) setdataItems(categorias);\r\n\r\n   } ,[categorias]);\r\n\r\n\r\n    return {total:dataItems.length,\r\n            loteCategorias,\r\n            totalPage:Math.ceil(dataItems.length/5),\r\n            backPaginate,\r\n            nextPaginate,\r\n            idPagina};\r\n}"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA6BC,UAA7B,EAAwCC,MAAxC,QAAsD,OAAtD;AACA,SAASC,QAAT,QAAyB,+CAAzB;AAEA,OAAO,MAAMC,aAAa,GAAC,MAAI;EAAA;;EAE5B,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,EAAD,CAA1C;EAEA,MAAM,CAACO,cAAD,EAAiBC,iBAAjB,IAAsCR,QAAQ,CAAC,EAAD,CAApD;EAEA,MAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,CAAD,CAAxC;EAEA,MAAM;IAACW,UAAD;IAAYC;EAAZ,IAA2BX,UAAU,CAACE,QAAD,CAA3C;EAEC,MAAMU,WAAW,GAAEX,MAAM,CAAC,CAAD,CAAzB,CAV2B,CAY5B;;EACA,MAAMY,YAAY,GAAC,MAAMJ,WAAW,CAACK,OAAO,IAAEA,OAAO,GAAC,CAAlB,CAApC,CAb4B,CAe5B;;;EACA,MAAMC,YAAY,GAAC,MAAMN,WAAW,CAACK,OAAO,IAAEA,OAAO,GAAC,CAAlB,CAApC,CAhB4B,CAkB5B;;;EACA,MAAME,cAAc,GAAEC,UAAD,IAAgB;IAElC;IACA,MAAMC,IAAI,GAACd,SAAS,CAACe,KAAV,CAAgB,IAAEF,UAAF,GAAa,CAA7B,EAA+BG,QAA/B,CAAX,CAHkC,CAIlC;;IACAb,iBAAiB,CAACW,IAAI,CAACC,KAAL,CAAW,CAAX,EAAa,CAAb,CAAD,CAAjB;EAED,CAPF,CAnB4B,CA4B5B;;;EACArB,SAAS,CAAC,MAAM;IAEXuB,KAAK,CAAE,sDAAqDD,QAAS,EAAhE,EAAkE;MACvEE,MAAM,EAAE,KAD+D;MAEvEC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEP,WAAU;MAFH;IAF8D,CAAlE,CAAL,CAQCC,IARD,CAQMC,QAAQ,IAAEA,QAAQ,CAACC,IAAT,EARhB,EAUCF,IAVD,CAUM,QAAgB;MAAA,IAAf;QAACd;MAAD,CAAe;MAGpBL,YAAY,CAACK,UAAD,CAAZ;MAEAC,aAAa,CAACD,UAAD,CAAb;IAED,CAjBD,EAmBCiB,KAnBD,CAmBOC,KAAK,IAAEC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAnBd;EAqBH,CAvBO,EAuBN,EAvBM,CAAT,CA7B4B,CAsD5B;;EACA9B,SAAS,CAAC,MAAMkB,cAAc,CAACR,QAAD,CAArB,EAAiC,CAACA,QAAD,CAAjC,CAAT,CAvD4B,CAyD5B;;EACAV,SAAS,CAAC,MAAK;IAEb;IACA,MAAMoB,IAAI,GAACd,SAAS,CAACe,KAAV,CAAgB,IAAEX,QAAF,GAAW,CAA3B,EAA6BY,QAA7B,CAAX;IAEAb,iBAAiB,CAACW,IAAI,CAACC,KAAL,CAAW,CAAX,EAAa,CAAb,CAAD,CAAjB;EAED,CAPQ,EAON,CAACf,SAAD,CAPM,CAAT,CA1D4B,CAoE5B;;EACAN,SAAS,CAAC,MAAI;IACX;IACAc,WAAW,CAACmB,OAAZ,IAAqB,CAArB;IAEA,IAAInB,WAAW,CAACmB,OAAZ,GAAoB,CAAxB,EAA2B1B,YAAY,CAACK,UAAD,CAAZ;EAE7B,CANQ,EAMN,CAACA,UAAD,CANM,CAAT;EASC,OAAO;IAACsB,KAAK,EAAC5B,SAAS,CAAC6B,MAAjB;IACC3B,cADD;IAEC4B,SAAS,EAACC,IAAI,CAACC,IAAL,CAAUhC,SAAS,CAAC6B,MAAV,GAAiB,CAA3B,CAFX;IAGClB,YAHD;IAICF,YAJD;IAKCL;EALD,CAAP;AAMH,CApFM;;GAAML,a"},"metadata":{},"sourceType":"module"}